#include <stack>

namespace eng {
    struct Chip8 {
        // initialize memory
        uint8_t memory[0x1000]{0x0};

        // add fonts
        const uint8_t fonts[0x50] = {
            0xF0, 0x90, 0x90, 0x90, 0xF0, // 0
            0x20, 0x60, 0x20, 0x20, 0x70, // 1
            0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2
            0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3
            0x90, 0x90, 0xF0, 0x10, 0x10, // 4
            0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5
            0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6
            0xF0, 0x10, 0x20, 0x40, 0x40, // 7
            0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8
            0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9
            0xF0, 0x90, 0xF0, 0x90, 0x90, // A
            0xE0, 0x90, 0xE0, 0x90, 0xE0, // B
            0xF0, 0x80, 0x80, 0x80, 0xF0, // C
            0xE0, 0x90, 0x90, 0x90, 0xE0, // D
            0xF0, 0x80, 0xF0, 0x80, 0xF0, // E
            0xF0, 0x80, 0xF0, 0x80, 0x80, // F
        };

        // registers
        uint8_t reg[0x10]{0};

        // index register
        uint16_t index = 0x000;

        // program counter
        uint16_t pc = 0x200;

        // stack
        std::stack<uint16_t> stk;

        // delay timer
        uint8_t delay = 0x00;

        // sound timer
        uint8_t sound = 0x00;

        // 64 x 32 display memory
        uint64_t display[0x20]{0x0};

        // keys
        char keys[0x10]{
            '1', '2', '3', '4',
            'q', 'w', 'e', 'r',
            'a', 's', 'd', 'f',
            'z', 'x', 'c', 'v',
        };
        int corr[0x10] = {
            0x1, 0x2, 0x3, 0xC,
            0x4, 0x5, 0x6, 0xD,
            0x7, 0x8, 0x9, 0xE,
            0xA, 0x0, 0xB, 0xF,
        };
    };
}